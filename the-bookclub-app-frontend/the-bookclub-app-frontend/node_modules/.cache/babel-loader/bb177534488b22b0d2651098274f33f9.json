{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/winndie/github/the-bookclub/src/components/Book/Book.js\";\n\n/* eslint-disable */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport $ from 'jquery';\nimport './Book.css';\nconst bookComponent = new Map();\nbookComponent.set(-1, {\n  label: null,\n  className: 'none'\n});\nbookComponent.set(0, {\n  label: 'Request',\n  className: 'btn btn-primary request'\n});\nbookComponent.set(1, {\n  label: 'Donate',\n  className: 'btn btn-primary donate'\n});\n\nfunction Book({\n  mode,\n  isbn,\n  stocks,\n  setStocks\n}) {\n  const bookData = sessionStorage.getItem('book.' + isbn) === null ? $.ajax({\n    url: 'https://yrtt-readers.github.io/the-bookclub/assets/data/books.json',\n    async: false,\n    success: data => {\n      try {\n        let item = data.filter(book => book.isbn === isbn)[0];\n        sessionStorage.setItem('book.' + isbn, JSON.stringify(item));\n        return item;\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }) : JSON.parse(sessionStorage.getItem('book.' + isbn));\n  console.log(bookData.book_name);\n\n  function setBookToStocks(e) {\n    if (e.target.className === 'btn btn-primary request') setStocks(stock => [...stock, {\n      isbn: isbn,\n      qty: -1\n    }]);else if (e.target.className === 'btn btn-primary donate') setStocks(stock => [...stock, {\n      isbn: isbn,\n      qty: +1\n    }]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-4 col-sm-6 book\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"img-thumbnail\",\n      src: bookData.thumbnail,\n      alt: \"book-image-not-found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: bookData.book_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Author names\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), ' ']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: bookData.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: [\"Book Quantity: \", stocks.reduce((sum, stock) => sum + stock.qty, 0)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: \"Post Code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"More info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: setBookToStocks,\n      className: bookComponent.get(mode).className,\n      children: bookComponent.get(mode).label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Book;\nBook.propTypes = {\n  mode: PropTypes.number,\n  isbn: PropTypes.number,\n  stocks: PropTypes.array,\n  setStocks: PropTypes.func\n};\nexport default Book;\n\nvar _c;\n\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"sources":["/Users/winndie/github/the-bookclub/src/components/Book/Book.js"],"names":["PropTypes","React","$","bookComponent","Map","set","label","className","Book","mode","isbn","stocks","setStocks","bookData","sessionStorage","getItem","ajax","url","async","success","data","item","filter","book","setItem","JSON","stringify","e","console","log","parse","book_name","setBookToStocks","target","stock","qty","thumbnail","description","reduce","sum","get","propTypes","number","array","func"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport $ from 'jquery';\nimport './Book.css';\n\nconst bookComponent = new Map()\nbookComponent.set(-1, { label: null, className: 'none' })\nbookComponent.set(0, { label: 'Request', className: 'btn btn-primary request' })\nbookComponent.set(1, { label: 'Donate', className: 'btn btn-primary donate' })\n\n\nfunction Book({ mode, isbn, stocks, setStocks }) {\n\n  const bookData =\n    (sessionStorage.getItem('book.' + isbn) === null) ?\n      $.ajax({\n        url: 'https://yrtt-readers.github.io/the-bookclub/assets/data/books.json',\n        async: false,\n        success: data => {\n          try {\n            let item = data.filter(book => book.isbn === isbn)[0]\n            sessionStorage.setItem('book.' + isbn, JSON.stringify(item))\n            return item\n          } catch (e) { console.log(e) }\n        }\n      }) : JSON.parse(sessionStorage.getItem('book.' + isbn))\n\n  console.log(bookData.book_name)\n\n  function setBookToStocks(e) {\n    if (e.target.className === 'btn btn-primary request')\n      setStocks(stock => [...stock, { isbn: isbn, qty: -1 }])\n    else if (e.target.className === 'btn btn-primary donate')\n      setStocks(stock => [...stock, { isbn: isbn, qty: +1 }])\n  }\n\n  return (\n    <div className='col-lg-4 col-sm-6 book'>\n      <img\n        className='img-thumbnail'\n        src={bookData.thumbnail}\n        alt='book-image-not-found'\n      />\n      <p className='book-description'>\n        <strong>{bookData.book_name}</strong>\n      </p>\n      <p className='book-description'>\n        <strong>Author names</strong>{' '}\n      </p>\n      <p className='book-description'>{bookData.description}</p>\n      <p className='book-description'>Book Quantity: {stocks.reduce((sum, stock) => sum + stock.qty, 0)}\n      </p>\n      <p className='book-description'>Post Code</p>\n      <p className='book-description'>\n        <a href='#'>More info</a>\n      </p>\n      <button onClick={setBookToStocks}\n        className={bookComponent.get(mode).className}>\n        {bookComponent.get(mode).label}\n      </button>\n    </div>\n  )\n\n}\n\nBook.propTypes = {\n  mode: PropTypes.number,\n  isbn: PropTypes.number,\n  stocks: PropTypes.array,\n  setStocks: PropTypes.func,\n};\n\nexport default Book;\n"]},"metadata":{},"sourceType":"module"}