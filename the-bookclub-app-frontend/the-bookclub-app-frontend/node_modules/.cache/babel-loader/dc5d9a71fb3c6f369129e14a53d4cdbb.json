{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/winndie/github/the-bookclub/src/components/Book/Book.js\";\n// /* eslint-disable */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport $ from 'jquery';\nimport './Book.css'; // import { booksData } from './BooksData.js';\n\nfunction Book({\n  mode,\n  isbn,\n  stocks,\n  setStocks\n}) {\n  // const bookData = booksData.filter(book => book.isbn === isbn);\n  //  console.log(bookData)\n  $.ajax({\n    url: 'https://yrtt-readers.github.io/the-bookclub/assets/data/books.json',\n    async: false,\n    success: data => {\n      try {\n        $.each(data.filter(book => book.isbn === isbn)[0], (key, val) => {\n          sessionStorage.setItem(isbn + '-' + key, val);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  });\n  console.log(document.getElementByClassName('btn btn-primary request').className + mode); // mode===0? document.getElementById('request')\n  //             .className += \" button.hide\": null ;\n\n  function setBookToStocks(e) {\n    if (e.target.className === 'btn btn-primary request') setStocks(stocks => [...stocks, {\n      isbn: isbn,\n      qty: -1\n    }]);else if (e.target.className === 'btn btn-primary donate') setStocks(stocks => [...stocks, {\n      isbn: isbn,\n      qty: +1\n    }]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-4 col-sm-6 book\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"img-thumbnail\",\n      src: sessionStorage.getItem(isbn + '-' + 'thumbnail'),\n      alt: \"book-image-not-found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: sessionStorage.getItem(isbn + '-' + 'book_name')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Author names\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), ' ']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: sessionStorage.getItem(isbn + '-' + 'description')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: [\"Book Quantity :\", stocks.reduce((sum, stock) => sum + stock.qty, 0)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: \"Post Code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book-description\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"More info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: setBookToStocks,\n      className: \"btn btn-primary request\",\n      children: \"Request\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: setBookToStocks,\n      className: \"btn btn-primary donate\",\n      children: \"Donate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Book;\nBook.propTypes = {\n  mode: PropTypes.number,\n  isbn: PropTypes.number,\n  stocks: PropTypes.array,\n  setStocks: PropTypes.func\n};\nexport default Book;\n\nvar _c;\n\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"sources":["/Users/winndie/github/the-bookclub/src/components/Book/Book.js"],"names":["PropTypes","React","$","Book","mode","isbn","stocks","setStocks","ajax","url","async","success","data","each","filter","book","key","val","sessionStorage","setItem","e","console","log","document","getElementByClassName","className","setBookToStocks","target","qty","getItem","reduce","sum","stock","propTypes","number","array","func"],"mappings":"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","sourcesContent":["// /* eslint-disable */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport $ from 'jquery';\nimport './Book.css';\n// import { booksData } from './BooksData.js';\n\nfunction Book({ mode, isbn, stocks, setStocks }) {\n\n  // const bookData = booksData.filter(book => book.isbn === isbn);\n  //  console.log(bookData)\n\n  $.ajax({\n    url: 'https://yrtt-readers.github.io/the-bookclub/assets/data/books.json',\n    async: false,\n    success: data => {\n      try {\n        $.each(data.filter(book => book.isbn === isbn)[0],\n          (key, val) => { sessionStorage.setItem(isbn + '-' + key, val) })\n      } catch (e) { console.log(e) }\n    }\n  })\n\n  console.log(document.getElementByClassName('btn btn-primary request').className + mode)\n  // mode===0? document.getElementById('request')\n  //             .className += \" button.hide\": null ;\n\n  function setBookToStocks(e) {\n    if (e.target.className === 'btn btn-primary request')\n      setStocks(stocks => [...stocks, { isbn: isbn, qty: -1 }])\n    else if (e.target.className === 'btn btn-primary donate')\n      setStocks(stocks => [...stocks, { isbn: isbn, qty: +1 }])\n  }\n\n\n  return (\n    <div className='col-lg-4 col-sm-6 book'>\n      <img\n        className='img-thumbnail'\n        src={sessionStorage.getItem(isbn + '-' + 'thumbnail')}\n        alt='book-image-not-found'\n      />\n      <p className='book-description'>\n        <strong>{sessionStorage.getItem(isbn + '-' + 'book_name')}</strong>\n      </p>\n      <p className='book-description'>\n        <strong>Author names</strong>{' '}\n      </p>\n      <p className='book-description'>{sessionStorage.getItem(isbn + '-' + 'description')}</p>\n      <p className='book-description'>Book Quantity :\n    {stocks.reduce((sum, stock) => sum + stock.qty, 0)}\n      </p>\n      <p className='book-description'>Post Code</p>\n      <p className='book-description'>\n        <a href='#'>More info</a>\n      </p>\n      <button onClick={setBookToStocks}\n        className='btn btn-primary request'>Request</button>\n      <button onClick={setBookToStocks}\n        className='btn btn-primary donate'>Donate</button>\n    </div>\n  );\n}\n\nBook.propTypes = {\n  mode: PropTypes.number,\n  isbn: PropTypes.number,\n  stocks: PropTypes.array,\n  setStocks: PropTypes.func,\n};\n\nexport default Book;\n"]},"metadata":{},"sourceType":"module"}